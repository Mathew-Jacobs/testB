@model Portlets.MVC.Models.AcademicData

@{
    ViewBag.Title = "LatestGrades";
}

@{
    var lastTerm = Model.AcademicTerms.LastIndexOf(Model.AcademicTerms.Last());
    var latestTerm = Model.AcademicTerms[lastTerm];
    if (lastTerm != 0)
    {
        latestTerm = Model.AcademicTerms[lastTerm - 1];
    }
}

<link rel="stylesheet" type="text/css" href="~/Content/Individual_Views_Old/Latest-Grades.css" />
<div style="width: 335px;">
    <table style="width: 100%;">
        <tbody>
            <tr style="background-color: #e1e3e6; height: 25px; font-weight: bold">
                <td style="padding-left: 8px; border: none;">@latestTerm.TermSeason @latestTerm.TermYear</td>
                <td style="text-align: right; padding-right: 8px; color: #6f7276; border: none;">Term GPA: @Math.Round(latestTerm.GradePointAverage, 2).ToString("0.00")</td>
            </tr>
        </tbody>
    </table>
</div>
<div style="width: 335px; height: 145px; overflow-y: auto;"> 
    <table class="flex-table">
        <thead>
            <tr>
                <th>Course</th>
                <th>Title</th>
                <th>Credit</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var course in latestTerm.AcademicCredits)
            {
                <tr class="space-around">
                    <td>@course.CourseName</td>
                    <td>@course.Title</td>
                    <td>@Math.Round(course.CompletedCredit, 2).ToString("0.00")</td>
                    <td>@course.VerifiedGradeId</td>
                </tr>
            }
        </tbody>
    </table>
</div>